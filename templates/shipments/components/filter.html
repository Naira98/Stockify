<div class="bg-white rounded-xl shadow p-6 mb-6">
  <form method="get" class="space-y-6">

    <!-- Filters Section -->
    <div class="flex flex-col sm:flex-row sm:items-end sm:flex-wrap gap-6">

      <!-- Factory Dropdown -->
      <div class="flex flex-col w-full sm:w-64">
        <label for="id_factory" class="text-sm font-medium text-gray-700 mb-1">Factory</label>
        <select name="factory" id="id_factory"
                class="block w-full text-sm py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option value="">All Factories</option>
          {% for factory in form.fields.factory.queryset %}
            <option value="{{ factory.id }}" {% if factory.id|stringformat:"s" == selected_factory_id %}selected{% endif %}>
              {{ factory.name }}
            </option>
          {% endfor %}
        </select>
      </div>

      <!-- Status Dropdown -->
      <div class="flex flex-col w-full sm:w-64">
        <label for="id_status" class="text-sm font-medium text-gray-700 mb-1">Status</label>
        <select name="status" id="id_status"
                class="block w-full text-sm py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option value="">All Statuses</option>
          {% for value, label in statuses %}
            <option value="{{ value }}" {% if value|stringformat:"s" == previous_status|stringformat:"s" %}selected{% endif %}>
              {{ label }}
            </option>
          {% endfor %}
        </select>
      </div>

      <!-- Created Date Range -->
      <div class="flex flex-col w-full sm:w-auto">
        <div class="flex flex-col sm:flex-row gap-4">
          <!-- From Date -->
          <div class="flex flex-col">
            <label for="from_date" class="text-sm font-medium text-gray-700 mb-1">From Created Date</label>
            <input 
              type="date" 
              id="from_date" 
              name="from_date"
              value="{{ request.GET.from_date }}" 
              class="block text-sm py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"
            />
          </div>

          <!-- To Date -->
          <div class="flex flex-col">
            <label for="to_date" class="text-sm font-medium text-gray-700 mb-1">To Created Date</label>
            <input 
              type="date" 
              id="to_date" 
              name="to_date"
              value="{{ request.GET.to_date }}" 
              class="block text-sm py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"
            />
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="flex items-end">
        <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">
          Apply Filters
        </button>
      </div>

    </div>
  </form>
</div>
